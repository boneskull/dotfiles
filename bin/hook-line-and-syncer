#!/bin/bash
# TODO launchctl load this?

EXCLUDES_FILE="/tmp/syncer-excludes.txt"
SOURCE="/Volumes/samara/projects/decipher"
EXCLUDES=(
        "*.vmwarevm"
        ".DS_Store"
        "Icon\r"
        ".dropbox"
        ".dropbox.attr"
)

DEST='/Volumes/samara/Dropbox (Decipher Dev)/projects'

printf -- '%s\n' "${EXCLUDES[@]}" > ${EXCLUDES_FILE}

set -x
/usr/local/bin/rsync -ru --protect-args --stats --links --copy-unsafe-links --delete --exclude-from=${EXCLUDES_FILE} "${SOURCE}" "${DEST}"


